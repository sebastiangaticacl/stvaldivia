# Configuración para cPanel / Passenger / LiteSpeed
# Asegura que la aplicación Python cargue correctamente en el subdirectorio

<IfModule mod_rewrite.c>
    RewriteEngine On
    # Si el archivo o directorio existe, servirlo directamente (bypass Passenger)
    # Escaping brackets for Tcl is not needed within single quotes passed to cat if we use 'send' carefully
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule . - [L]

    # Forzar HTTPS
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

<IfModule mod_passenger.c>
    PassengerEnabled On
    PassengerBaseURI /stvaldivia
    PassengerAppRoot /home/stvaldivia/public_html/stvaldivia
    PassengerPython /home/stvaldivia/virtualenv/public_html/stvaldivia/3.9/bin/python
    PassengerFriendlyErrorPages On
</IfModule>
